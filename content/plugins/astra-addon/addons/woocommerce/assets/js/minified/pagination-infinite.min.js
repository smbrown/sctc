!function(i){var e=parseInt(astra.shop_infinite_total)||"",s=parseInt(astra.shop_infinite_count)||"",n=astra.ajax_url||"",t=astra.shop_infinite_nonce||"",a=astra.shop_pagination||"",r=!1,c=!0,o=astra.shop_infinite_scroll_event||"",p=jQuery(".ast-shop-pagination-infinite .ast-loader");if(""!=typeof a&&"infinite"==a){if("undefined"!=typeof wp&&void 0!==wp.customize)return;if(""!=typeof o)switch(o){case"click":i(".ast-shop-load-more").click(function(a){if(a.preventDefault(),"undefined"!=s&&""!=s&&"undefined"!=e&&""!=e){if(e<s)return!1;f(s),s++}});break;case"scroll":if(i(".ast-shop-load-more").hide(),0<i("#main").find(".product:last").length){var d=jQuery(window).outerHeight()/1.25;i(window).scroll(function(){if(i(window).scrollTop()+d>=i("#main").find(".product:last").offset().top){if(e<s)return!1;1==c&&(f(s),s++,c=!1)}})}}function f(a){i(".ast-shop-load-more").removeClass(".active").hide(),p.show();var o={action:"astra_shop_pagination_infinite",page_no:a,nonce:t,query_vars:astra.query_vars,astra_infinite:"astra_pagination_ajax"};i.post(n,o,function(a){i(window).trigger("astAddedAjaxPosts");var o=i(a);p.hide(),i(".ast-shop-load-more").addClass("active").show(),i("#main > .ast-woocommerce-container > .products").append(o);var n=astra.grid_layout||"3";1==r&&1<n&&(i("#main > .ast-woocommerce-container > .products").masonry("appended",o,!0),i("#main > .ast-woocommerce-container > .products").imagesLoaded(function(){i("#main > .ast-woocommerce-container > .products").masonry("reload")}),i("#main > .ast-woocommerce-container > .products").trigger("masonryItemAdded"));var t=astra.shop_no_more_post_message||"";e<s&&i(".ast-shop-pagination-infinite").html('<span class="ast-shop-load-more no-more active" style="display: inline-block;">'+t+"</span>"),c=!0})}}}(jQuery);